<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templateProduto.xhtml">

	<ui:define name="title"> Usuario Alterar </ui:define>

<style type="text/css">
.value {
	font-weight: bold;
}

.ui-datatable {
	margin-bottom: 25px
}

.ui-datatable .ui-datatable-footer {
	text-align: left;
}

.ui-datalist ul {
	padding: 0 0 0 10px;
	margin: 5px 0;
}

.ui-datatable .ui-button-icon-only .ui-button-text {
	padding: 0;
	line-height: 1.2;
}
</style>

	<ui:define name="content">
		<p:graphicImage name="images/dashboard/sales.svg" library="ultima-layout" style="width: 100%" />

		<div class="card" styele="box-shadow: 5px 10px #888888;">
			<h:form id="formPrincipalAlterarProduto">
				<center>
					<h3 style="margin-top: 0">Administração</h3>
				</center>

				<p:dataTable id="singleProduto" var="varProduto"
					value="#{produtoView.produtos}" 
					selectionMode="single"
					selection="#{produtoView.selecionadoProduto}"
					rowKey="#{varProduto.idProduto}" 
					reflow="true" 
					scrollable="true"
					scrollHeight="290">

					<p:column headerText="Nome Produto" priority="4">
						<h:outputText value="#{varProduto.nomeProd}" />
					</p:column>

					<p:column headerText="Descrição Produto" priority="4">
						<h:outputText value="#{varProduto.descProduto}" />
					</p:column>

					<p:column headerText="Comentário do Produto" priority="4">
						<h:outputText value="#{varProduto.comentarioPord}" />
					</p:column>

					<p:column headerText="Link video do produto" priority="4">
						<h:outputText value="#{varProduto.linkVideo}" />
					</p:column>

					<p:column headerText="whatsapp" priority="4">
						<h:outputText value="#{varProduto.whatsApp}" />
					</p:column>

					<p:column headerText="Email" priority="4">
						<h:outputText value="#{varProduto.email}" />
					</p:column>

					<p:column headerText="link de Compra" priority="4">
						<h:outputText value="#{varProduto.comprarLink}" />
					</p:column>

					<p:column headerText="Imagem do Produto" priority="4">
						<h:outputText value="#{varProduto.imagemProd}" />
					</p:column>

					<f:facet name="footer">
						<center>
							<f:facet name="footer">
								<p:commandButton process="singleProduto"
									update=":formPrincipalAlterarProduto:produtoDetail"
									icon="pi pi-search" value="View"
									oncomplete="PF('produtoDialog').show()" />
							</f:facet>
						</center>
					</f:facet>
				</p:dataTable>

				<p:dialog id="dialogCelula" header="Produto Selecionado " widgetVar="produtoDialog" modal="true" resizable="false" width="70%">

					<p:dataTable id="produtoDetail" 
						var="varProduto"
						value="#{produtoView.selecionadoProduto}" 
						editable="true" 
						editMode="cell"
						scrollHeight="290">
						
						<f:facet name="header">
           					 Click com o botão direito na linha para editar 
        				</f:facet>

						<p:ajax event="cellEdit" listener="#{produtoView.onCellEdit}" />

						<p:column headerText="Nome Produto" priority="4">
							<p:cellEditor>
								<f:facet name="output"><h:outputText value="#{produtoView.selecionadoProduto.nomeProd}" /></f:facet>
								<f:facet name="input"><p:inputText id="nmProduto" value="#{produtoView.selecionadoProduto.nomeProd}" style="width:96%" /></f:facet>
							</p:cellEditor>
						</p:column>

						<p:column headerText="Descrição Produto" priority="1">
						 <p:cellEditor>
                   			<f:facet name="output"><h:outputText value="#{produtoView.selecionadoProduto.descProduto}" /></f:facet>
                   		    <f:facet name="input"><p:inputText id="desProduto" value="#{produtoView.selecionadoProduto.descProduto}" style="width:96%"/></f:facet>
               			 </p:cellEditor>               
						</p:column>

						<p:column headerText="Comentário do Produto" priority="2">
						 <p:cellEditor>
                   			<f:facet name="output"><h:outputText value="#{produtoView.selecionadoProduto.comentarioPord}" /></f:facet>
                   		    <f:facet name="input"><p:inputText id="produtoC" value="#{produtoView.selecionadoProduto.comentarioPord}" style="width:96%"/></f:facet>
               			 </p:cellEditor>   
						</p:column>

						<p:column headerText="Link video do produto" priority="3">
						<p:cellEditor>
                   			<f:facet name="output"><h:outputText value="#{produtoView.selecionadoProduto.linkVideo}" /></f:facet>
                   		    <f:facet name="input"><p:inputText id="produtolink" value="#{produtoView.selecionadoProduto.linkVideo}" style="width:96%"/></f:facet>
               			 </p:cellEditor>               			 
						</p:column>

						<p:column headerText="whatsapp" priority="4">
						  <p:cellEditor>
                   			<f:facet name="output"><h:outputText value="#{produtoView.selecionadoProduto.whatsApp}" /></f:facet>
                   		    <f:facet name="input"><p:inputText id="produtoWapp" value="#{produtoView.selecionadoProduto.whatsApp}" style="width:96%"/></f:facet>
               			 </p:cellEditor>    
						</p:column>

						<p:column headerText="Email" priority="5">
						<p:cellEditor>
                   			<f:facet name="output"><h:outputText value="#{produtoView.selecionadoProduto.email}" /></f:facet>
                   		    <f:facet name="input"><p:inputText id="produtoEmail" value="#{produtoView.selecionadoProduto.email}" style="width:96%"/></f:facet>
               			 </p:cellEditor>               			 
						</p:column>

						<p:column headerText="link de Compra" priority="6">		
						<p:cellEditor>
                   			<f:facet name="output"><h:outputText value="#{produtoView.selecionadoProduto.comprarLink}" /></f:facet>
                   		    <f:facet name="input"><p:inputText id="produtolinkCompra" value="#{produtoView.selecionadoProduto.comprarLink}" style="width:96%"/></f:facet>
               			 </p:cellEditor>								
						</p:column>
						
						<p:column headerText="Imagem do Produto" priority="7">
						<p:cellEditor>
                   			<f:facet name="output"><h:outputText value="#{produtoView.selecionadoProduto.imagemProd}" /></f:facet>
                   		    <f:facet name="input"><p:inputText id="produtoImagem" value="#{produtoView.selecionadoProduto.imagemProd}" style="width:96%"/></f:facet>
               			 </p:cellEditor>               			 
						</p:column>
						
						<f:facet name="footer">
						<center>
							<f:facet name="footer">
								<p:commandButton  id="SalvarAlteracao" 
												  action="#{produtoView.salvarCelulaAlterada}"
												  value =" Salvar Alteração "
												  ajax="false"
												  />
							</f:facet>
						</center>
					</f:facet>
					</p:dataTable>
				</p:dialog>
			</h:form>
		</div>
		<div class="overview-footer"></div>
	</ui:define>


</ui:composition>